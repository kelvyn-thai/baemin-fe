(self.webpackChunkbaemin_fe=self.webpackChunkbaemin_fe||[]).push([[318],{9084:function(e,t,r){"use strict";r.d(t,{Z:function(){return c}});var n=r(2791),i=r(7689),o=r(184),a=function(e){var t=e.title,r=e.onGoBack,n=(0,i.s0)();return(0,o.jsxs)("div",{className:"header flex items-center h-8 border-b-[0.5px] relative p-5 border-b-primary-gray bg-primary-light",children:[(0,o.jsx)("button",{type:"button",className:"",onClick:function(){n(-1),"function"===typeof r&&r()},children:(0,o.jsx)("i",{className:"fa-solid fa-arrow-left text-lg"})}),(0,o.jsx)("div",{className:"absolute left-[50%] translate-x-[-50%]",children:t})]})};a.defaultProps={onGoBack:void 0};var c=n.memo(a)},1318:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return k}});var n=r(4165),i=r(5861),o=r(885),a=r(2791),c=r(6731),s=r(6098),u=r(7892),l=r.n(u),f=r(9084),d=r(1017),m=r(3038),v=r.n(m),p=r(4280),x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise((function(t){return setTimeout(t,e)}))},h=r(184),g=function(e){var t=e.children,r=e.onEndReached,n=e.threshold,i=void 0===n?10:n,o=e.className,c=a.useCallback((function(e){var t=e.currentTarget,n=t.scrollHeight,o=t.scrollTop;t.clientHeight+o+i>n&&"function"===typeof r&&r()}),[r]);return(0,h.jsx)("div",{className:"scroll-view overflow-x-hidden overflow-y-scroll ".concat(o||""),onScroll:c,children:t})};g.defaultProps={threshold:100,onEndReached:void 0,className:""};var b=a.memo(g),j=r(6885),y=r(3917),N=a.memo((function(e){var t,r=e.order,n=r.id,i=r.orderName,o=r.status,s=r.createdTime,u=r.totalPrice,f=r.paymentMethod,d=r.dishes,m=a.useMemo((function(){switch(o){case"Done":return(0,h.jsx)("i",{className:"fa-solid fa-circle-check"});case"Canceled":return(0,h.jsx)("i",{className:"fa-solid fa-triangle-exclamation"});default:return(0,h.jsx)("i",{className:"fa-solid fa-spinner"})}}),[o]);return(0,h.jsxs)(c.rU,{className:"order-item bg-primary-light p-4 border-b-[0.5px] grid items-center gap-1",to:"/order?orderId=".concat(n),children:[(0,h.jsxs)("div",{className:"block-info",children:[(0,h.jsxs)("div",{className:"block-status grid gap-2 items-center text-xs mb-1 text-primary-gray",children:[m,(0,h.jsx)("span",{className:"font-medium",children:o}),(0,h.jsx)("span",{children:(t=s,l()(t).format("DD/MM/YYYY-hh:mm a"))})]}),(0,h.jsx)("div",{className:"mb-2",children:i}),(0,h.jsxs)("div",{className:"block-payment text-xs text-primary-gray",children:[(0,h.jsx)("span",{children:(0,p.e)({value:u})}),(0,h.jsxs)("span",{className:"mx-1",children:["(",f,")"]}),(0,h.jsxs)("span",{children:[d.length," Items"]})]})]}),(0,h.jsx)("i",{className:"fa-solid fa-chevron-right text-primary-gray"})]})})),w=function(){var e=(0,j.q)().userInfo,t=a.useState(1),r=(0,o.Z)(t,2),c=r[0],u=r[1],l=(0,s.xv)({userId:null===e||void 0===e?void 0:e.id}).orders,m=void 0===l?[]:l,p=function(e){var t=e.data,r=e.maxItemsPerPage,n=void 0===r?10:r;return{totalPage:Math.ceil(t.length/n)}}({data:m,maxItemsPerPage:10}).totalPage,g=c>p||m.length<10,y=a.useCallback(v()((0,i.Z)((0,n.Z)().mark((function e(){return(0,n.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!g){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,x(1e3);case 4:u(c+1);case 5:case"end":return e.stop()}}),e)}))),1e3),[c,g]);return(0,h.jsxs)("div",{className:"manage-orders bg-primary-light-gray",children:[(0,h.jsx)(f.Z,{title:"My orders"}),(0,h.jsxs)(b,{className:"order-list ",onEndReached:y,children:[m.slice(0,10*c).map((function(e){return(0,h.jsx)(N,{order:e},e.id)})),!g&&(0,h.jsx)(d.Z,{})]})]})},k=a.memo((function(){return(0,h.jsx)(y.Kf,{userRole:"customer",children:(0,h.jsx)(w,{})})}))},6098:function(e,t,r){"use strict";r.d(t,{KS:function(){return n.KS},xv:function(){return n.xv}});r(5590),r(1087);var n=r(8286)},7197:function(e,t,r){var n=r(7009).Symbol;e.exports=n},9066:function(e,t,r){var n=r(7197),i=r(1587),o=r(3581),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},821:function(e,t,r){var n=r(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(i,""):e}},1032:function(e,t,r){var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},1587:function(e,t,r){var n=r(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,c=n?n.toStringTag:void 0;e.exports=function(e){var t=o.call(e,c),r=e[c];try{e[c]=void 0;var n=!0}catch(s){}var i=a.call(e);return n&&(t?e[c]=r:delete e[c]),i}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,r){var n=r(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=n||i||Function("return this")();e.exports=o},6050:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},8573:function(e,t,r){var n=r(8092),i=r(72),o=r(2582),a=Math.max,c=Math.min;e.exports=function(e,t,r){var s,u,l,f,d,m,v=0,p=!1,x=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=s,n=u;return s=u=void 0,v=t,f=e.apply(n,r)}function b(e){return v=e,d=setTimeout(y,t),p?g(e):f}function j(e){var r=e-m;return void 0===m||r>=t||r<0||x&&e-v>=l}function y(){var e=i();if(j(e))return N(e);d=setTimeout(y,function(e){var r=t-(e-m);return x?c(r,l-(e-v)):r}(e))}function N(e){return d=void 0,h&&s?g(e):(s=u=void 0,f)}function w(){var e=i(),r=j(e);if(s=arguments,u=this,m=e,r){if(void 0===d)return b(m);if(x)return clearTimeout(d),d=setTimeout(y,t),g(m)}return void 0===d&&(d=setTimeout(y,t)),f}return t=o(t)||0,n(r)&&(p=!!r.leading,l=(x="maxWait"in r)?a(o(r.maxWait)||0,t):l,h="trailing"in r?!!r.trailing:h),w.cancel=function(){void 0!==d&&clearTimeout(d),v=0,s=m=u=d=void 0},w.flush=function(){return void 0===d?f:N(i())},w}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,r){var n=r(9066),i=r(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},72:function(e,t,r){var n=r(7009);e.exports=function(){return n.Date.now()}},3038:function(e,t,r){var n=r(8573),i=r(8092);e.exports=function(e,t,r){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}},2582:function(e,t,r){var n=r(821),i=r(8092),o=r(152),a=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,s=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=c.test(e);return r||s.test(e)?u(e.slice(2),r?2:8):a.test(e)?NaN:+e}}}]);
//# sourceMappingURL=318.6f82d75a.chunk.js.map