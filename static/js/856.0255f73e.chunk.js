(self.webpackChunkbaemin_fe=self.webpackChunkbaemin_fe||[]).push([[856],{9084:function(e,t,r){"use strict";function n(e){var t=e.title,r=e.onGoBack,n=(0,i.s0)();return(0,o.jsxs)("div",{className:"header flex items-center h-8 border-b-[0.5px] relative p-5 border-b-primary-gray bg-primary-light",children:[(0,o.jsx)("button",{type:"button",className:"",onClick:function(){n(-1),"function"==typeof r&&r()},children:(0,o.jsx)("i",{className:"fa-solid fa-arrow-left text-lg"})}),(0,o.jsx)("div",{className:"absolute left-[50%] translate-x-[-50%]",children:t})]})}r.d(t,{Z:function(){return a}});t=r(2791);var i=r(7689),o=r(184);n.defaultProps={onGoBack:void 0};var a=t.memo(n)},5856:function(e,t,r){"use strict";function n(e){var t=e.children,r=e.onEndReached,n=void 0===(i=e.threshold)?10:i,i=e.className;e=s.useCallback((function(e){var t=(e=e.currentTarget).scrollHeight,i=e.scrollTop;t<e.clientHeight+i+n&&"function"==typeof r&&r()}),[r]);return(0,p.jsx)("div",{className:"scroll-view overflow-x-hidden overflow-y-scroll ".concat(i||""),onScroll:e,children:t})}r.r(t),r.d(t,{default:function(){return y}});var i=r(4165),o=r(5861),a=r(885),s=r(2791),c=r(6731),u=r(6098),l=(t=r(7892),r.n(t)),f=r(9084),d=r(1017),m=(t=r(3038),r.n(t)),v=r(4280),p=r(184);function x(){var e=(0,g.q)().userInfo,t=s.useState(1),r=(t=(0,a.Z)(t,2))[0],n=t[1],c=(l=(t={data:e=void 0===(t=(0,u.xv)({userId:null==e?void 0:e.id}).orders)?[]:t,maxItemsPerPage:10}).data,t=t.maxItemsPerPage,Math.ceil(l.length/(void 0===t?10:t))<r||e.length<10),l=s.useCallback(m()((0,o.Z)((0,i.Z)().mark((function e(){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c)return e.abrupt("return");e.next=2;break;case 2:return e.next=4,function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:2e3;return new Promise((function(t){return setTimeout(t,e)}))}(1e3);case 4:n(r+1);case 5:case"end":return e.stop()}}),e)}))),1e3),[r,c]);return(0,p.jsxs)("div",{className:"manage-orders bg-primary-light-gray",children:[(0,p.jsx)(f.Z,{title:"My orders"}),(0,p.jsxs)(h,{className:"order-list ",onEndReached:l,children:[e.slice(0,10*r).map((function(e){return(0,p.jsx)(j,{order:e},e.id)})),!c&&(0,p.jsx)(d.Z,{})]})]})}n.defaultProps={threshold:100,onEndReached:void 0,className:""};var h=s.memo(n),g=r(6885),b=r(3917),j=s.memo((function(e){var t=(e=e.order).id,r=e.orderName,n=e.status,i=e.createdTime,o=e.totalPrice,a=e.paymentMethod,u=(e=e.dishes,s.useMemo((function(){switch(n){case"Done":return(0,p.jsx)("i",{className:"fa-solid fa-circle-check"});case"Canceled":return(0,p.jsx)("i",{className:"fa-solid fa-triangle-exclamation"});default:return(0,p.jsx)("i",{className:"fa-solid fa-spinner"})}}),[n]));return(0,p.jsxs)(c.rU,{className:"order-item bg-primary-light p-4 border-b-[0.5px] grid items-center gap-1",to:"/order?orderId=".concat(t),children:[(0,p.jsxs)("div",{className:"block-info",children:[(0,p.jsxs)("div",{className:"block-status grid gap-2 items-center text-xs mb-1 text-primary-gray",children:[u,(0,p.jsx)("span",{className:"font-medium",children:n}),(0,p.jsx)("span",{children:(t=i,l()(t).format("DD/MM/YYYY-hh:mm a"))})]}),(0,p.jsx)("div",{className:"mb-2",children:r}),(0,p.jsxs)("div",{className:"block-payment text-xs text-primary-gray",children:[(0,p.jsx)("span",{children:(0,v.e)({value:o})}),(0,p.jsxs)("span",{className:"mx-1",children:["(",a,")"]}),(0,p.jsxs)("span",{children:[e.length," Items"]})]})]}),(0,p.jsx)("i",{className:"fa-solid fa-chevron-right text-primary-gray"})]})})),y=s.memo((function(){return(0,p.jsx)(b.Kf,{userRole:"customer",children:(0,p.jsx)(x,{})})}))},6098:function(e,t,r){"use strict";r.d(t,{KS:function(){return n.KS},xv:function(){return n.xv}}),r(5590),r(1087);var n=r(8286)},7197:function(e,t,r){r=r(7009).Symbol,e.exports=r},9066:function(e,t,r){var n=r(7197),i=r(1587),o=r(3581),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":(a&&a in Object(e)?i:o)(e)}},821:function(e,t,r){var n=r(6050),i=/^\s+/;e.exports=function(e){return e&&e.slice(0,n(e)+1).replace(i,"")}},1032:function(e,t,r){r="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,e.exports=r},1587:function(e,t,r){r=r(7197);var n=Object.prototype,i=n.hasOwnProperty,o=n.toString,a=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,a),r=e[a];try{var n=!(e[a]=void 0)}catch(e){}var s=o.call(e);return n&&(t?e[a]=r:delete e[a]),s}},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},7009:function(e,t,r){r=r(1032);var n="object"==typeof self&&self&&self.Object===Object&&self;r=r||n||Function("return this")();e.exports=r},6050:function(e){var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},8573:function(e,t,r){var n=r(8092),i=r(72),o=r(2582),a=Math.max,s=Math.min;e.exports=function(e,t,r){var c,u,l,f,d,m,v=0,p=!1,x=!1,h=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function g(t){var r=c,n=u;return c=u=void 0,v=t,f=e.apply(n,r)}function b(e){var r=e-m;return void 0===m||t<=r||r<0||x&&l<=e-v}function j(){var e,r=i();if(b(r))return y(r);d=setTimeout(j,(e=t-(r-m),x?s(e,l-(r-v)):e))}function y(e){return d=void 0,h&&c?g(e):(c=u=void 0,f)}function N(){var e=i(),r=b(e);if(c=arguments,u=this,m=e,r){if(void 0===d)return v=e=m,d=setTimeout(j,t),p?g(e):f;if(x)return clearTimeout(d),d=setTimeout(j,t),g(m)}return void 0===d&&(d=setTimeout(j,t)),f}return t=o(t)||0,n(r)&&(p=!!r.leading,l=(x="maxWait"in r)?a(o(r.maxWait)||0,t):l,h="trailing"in r?!!r.trailing:h),N.cancel=function(){void 0!==d&&clearTimeout(d),c=m=u=d=void(v=0)},N.flush=function(){return void 0===d?f:y(i())},N}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,r){var n=r(9066),i=r(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==n(e)}},72:function(e,t,r){var n=r(7009);e.exports=function(){return n.Date.now()}},3038:function(e,t,r){var n=r(8573),i=r(8092);e.exports=function(e,t,r){var o=!0,a=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return i(r)&&(o="leading"in r?!!r.leading:o,a="trailing"in r?!!r.trailing:a),n(e,t,{leading:o,maxWait:t,trailing:a})}},2582:function(e,t,r){var n=r(821),i=r(8092),o=r(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)&&(t="function"==typeof e.valueOf?e.valueOf():e,e=i(t)?t+"":t),"string"!=typeof e)return 0===e?e:+e;e=n(e);var t=s.test(e);return t||c.test(e)?u(e.slice(2),t?2:8):a.test(e)?NaN:+e}}}]);