"use strict";(self.webpackChunkbaemin_fe=self.webpackChunkbaemin_fe||[]).push([[877],{8649:function(e,n,a){a.r(n),a.d(n,{default:function(){return x}});var r=a(4165),t=a(5861),s=a(4942),u=a(1413),i=a(885),o=a(5022),c=a(1095),l=(n=a(3464),a.n(n)),m=a(208),f=a(2791),p=a(7689),d=a(7408),b=(n=a(5824),new(a(7928).Z)({baseURL:"".concat(n.V.REACT_APP_API_DOMAIN_URL)})),w=function(e){return b.post("login",e)},v=a(184);Promise.all([a.e(170),a.e(194),a.e(76),a.e(790),a.e(91)]).then(a.bind(a,4790));var x=f.memo((function(){var e=(0,p.s0)(),n=(0,m.q)().actionLoggedIn,a=(0,d.useMutation)(function(){var e=(0,t.Z)((0,r.Z)().mark((function e(n){var a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w(n);case 2:if(null!=(a=e.sent)&&a.data){e.next=5;break}throw new Error("error!");case 5:return e.abrupt("return",a.data);case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),b=a.isLoading,x=a.isError,g=a.reset,Z=f.useState({username:"",password:""}),h=(Z=(0,i.Z)(Z,2))[0],k=Z[1],j=(Z=f.useCallback((function(e){x&&g(),k((0,u.Z)((0,u.Z)({},h),{},(0,s.Z)({},e.target.name,e.target.value)))}),[h,k,g,x]),f.useMemo((function(){return Object.values(h).every((function(e){return 0<l()(e).length}))}),[h])),C=f.useCallback((0,t.Z)((0,r.Z)().mark((function t(){var s;return(0,r.Z)().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(j){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,a.mutateAsync(h);case 4:s=r.sent,n(s),e("/");case 7:case"end":return r.stop()}}),t)}))),[h,j]);return(0,v.jsxs)("div",{className:"p-5",children:[(0,v.jsx)("img",{className:"mb-5 w-[100%] aspect-video",src:"assets/images/banner.webp",alt:"banner-baemin"}),(0,v.jsx)(c.Z,{label:"User name",isRequired:!0,optionProps:{value:h.username,name:"username",onChange:Z}}),(0,v.jsx)(c.Z,{label:"Password",type:"password",optionProps:{value:h.password,name:"password",onChange:Z,onKeyDown:function(e){return"Enter"===e.key&&C()}},isRequired:!0}),x&&(0,v.jsxs)("div",{className:"text-red-500",children:[(0,v.jsx)("i",{className:"fa-solid fa-triangle-exclamation text-base mr-2"}),"Login fail!"]}),(0,v.jsx)(o.Z,{title:"Login".concat(b?"...":""),className:"w-[100%] mt-5",onClick:C,isDisabled:!j||b})]})}))}}]);